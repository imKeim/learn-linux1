## Цели

Проверка базовых навыков управления процессами

## Задачи

В этой лабораторной работе вы определите процессы, которые используют большую часть ресурсов системы, и будете управлять ими.

## Инструкции

Войдите на **workstation** как пользователь *student* с паролем *student*.

На **workstation** выполните команду `lab processes-review start`. Эта команда запускает подготовительный сценарий, который проверяет доступность хоста **serverb** в сети.

```
[student@workstation ~]$ lab processes-review start
```

1.	На **workstation** откройте рядом два окна терминала. В этом разделе эти терминалы называются левым и правым. На каждом терминале войдите на хост **serverb** как пользователь *student*.

    Создайте сценарий с именем **process101**, который будет создавать искусственную нагрузку на процессор. Создайте сценарий в каталоге **/home/student/bin**.

    ```
    #!/bin/bash
    while true; do
    var=1
    while [[ var -lt 50000 ]]; do
        var=$(($var+1))
    done
    sleep 1
    done
    ```

2.	В правом окне запустите утилиту `top`.

3.	В командной оболочке левого терминала определите количество логических процессоров на виртуальной машине. Запустите сценарий `process101` в фоновом режиме.

4.	В командной оболочке правого терминала просмотрите вывод команды `top`. Переключитесь между нагрузкой, потоками и памятью. Обратите внимание на идентификатор процесса (**PID**) для `process101`. Посмотрите процентную долю использования ЦП. Она должна быть в диапазоне 10–15 %. Просмотрите сведения о нагрузке, потоках и памяти, а затем убедитесь, что `top` показывает использование ЦП.

5.	Отключите использование жирного шрифта в выводе. Сохраните эту конфигурацию для повторного использования после перезапуска `top`. Убедитесь, что изменения сохранены.

6.	Скопируйте сценарий **process101** в новый файл с именем **process102**. Отредактируйте сценарий, чтобы создать более высокую искусственную нагрузку на процессор. Увеличьте нагрузку с 50 до 100 тысяч. Запустите процесс `process102` в фоновом режиме.

7.	В командной оболочке правого терминала убедитесь, что процесс запущен и использует больше всего ресурсов ЦП. Нагрузка должна быть в диапазоне от 25 до 35 %.

8.	Средняя нагрузка все еще ниже 1. Скопируйте файл **process101** в новый сценарий с именем **process103**. Увеличьте количество операций сложения до 800 тысяч. Запустите `process103` в фоновом режиме. Убедитесь, что среднее значение нагрузки выше 1. Изменение средней нагрузки может занять несколько минут.

9.	В командной оболочке левого терминала переключитесь на пользователя *root*. Приостановите процесс `process101`. Отобразите список оставшихся заданий. Убедитесь, что состояние процесса `process101` теперь **T**.

10.	Возобновите процесс `process101`.

11.	Завершите процессы `process101`, `process102` и `process103` с помощью командной строки. Убедитесь, что процессы больше не отображаются в `top`.

12.	В командной оболочке левого терминала выйдите из сеанса пользователя *root*. В командной оболочке правого терминала остановите команду `top`. Выйдите из **serverb** на обоих терминалах.

## Оценка

На **workstation** запустите сценарий `lab processes-review grade`, чтобы проверить, правильно ли было выполнено упражнение.

```
[student@workstation ~]$ lab processes-review grade
```

## Конец
На **workstation** запустите сценарий `lab processes-review finish`, чтобы закончить лабораторную работу.

```
[student@workstation ~]$ lab processes-review finish
```

Лабораторная работа завершена.