## Цели

Дать определение понятий 'пакет' и 'репозиторий'

## Общие сведения

Умение устанавливать, обновлять и удалять программное обеспечение относится к важнейшим навыкам работы с любой операционной системой. Поэтому изучение данного вопроса первостепенная задача для любого начинающего пользователя Linux, сразу после того, как он немного осмотрелся в системе.

К сожалению, нет единого способа управления ПО, подходящего для всех дистрибутивов, разные семейства предполагают различные подходы, хотя общие принципы во многом совпадают.

В данной части курса будут рассматриваться способы управления пакетами в системах на основе Debian, Ubuntu, AltLinux и RedHat

## Пакеты и репозитории

**Пакет** - это архив специального формата, который содержит все необходимые приложению бинарные и конфигурационные файлы, информацию о том, как их следует разместить в файловой системе, данные о зависимостях пакета, а также список действий которые необходимо выполнить в процессе установки.

Существуют различные форматы пакетов, наиболее распространенными из которых являются **RPM** (рекурсивный акроним _RPM Package Manager_, ранее _Red Hat Package Manager_) и **DEB** (сокращение от _Debian_). Первый используется в основанных на Red Hat/Fedora дистрибутивах, а также некоторых иных, например, OpenSUSE, второй - во всем многочисленном семействе систем на базе Debian и его производных, включая один из самых популярных дистрибутивов - Ubuntu

Каждый пакет содержит только необходимый минимум файлов и библиотек, все остальные необходимые ему компоненты указываются в качестве зависимостей.

**Репозиторий** - централизованное хранилище пакетов.

Каждый крупный дистрибутив имеет собственные репозитории для всех поддерживаемых выпусков и архитектур, которые содержат огромное количество ПО.

Наличие репозиториев позволяет централизованно обновлять пакеты, достаточно сравнить текущие версии пакетов с версиями в репозитории и скачать нужные обновления.

## Основные репозитории дистрибутивов

### Репозитории Debian

Как правило типичный дистрибутив на базе Debian имеет четыре основных репозитория:

- **Base repository** - основное хранилище, содержит все пакеты, но обновляется достаточно редко, обычно одновременно с выходом минорной версии дистрибутива, например, Debian 9.6, Debian 9.7 и т.д.
- **Security updates** - обновления безопасности, являются критически важными для функционирования системы и крайне желательны к установке.
- **Stable updates** - стабильные обновления, не являющиеся обновлениями безопасности, могут исправлять некритические ошибки в ПО или незначительно расширять его функционал в рамках текущей версии.
- **Stable backports** - стабильное ПО с обратной совместимостью, содержит прекомпилированные для текущего дистрибутива самые свежие версии ПО, которые разрабатываются в рамках новой версии, позволяет использовать более новые версии программ, не подвергая стабильность дистрибутива угрозам при использовании пакетов тестируемой или нестабильной ветки.

Каждый репозиторий состоит из нескольких разделов, в Debian это:

- **main** - содержит пакеты, которые полностью совместимы с "Критериями Debian по определению Свободного ПО"
- **non-free** - распространяемое без ограничений ПО, которое не соответствует или не полностью соответствует принципам свободного ПО по версии FSF (Free Software Foundation, Фонд свободного ПО)
- **contrib** - свободное ПО, которое требует для работы несвободные компоненты, например, бинарные модули драйверов, прошивок ROM и т.д., либо требует ПО, имеющее собственника, скажем несвободную версию Java от Oracle.

### Репозитории Ubuntu

В целом репозитории схожи, но имеют несколько отличающиеся разделы:

- **main** - также, как и в Debian содержит свободные пакеты, поддерживаемые компанией Canonical
- **restricted** - несвободное ПО, поддерживаемое Canonical
- **universe** - свободное ПО, поддерживаемое сообществом
- **multiverse** - несвободное ПО, поддерживаемое сообществом.

### Репозитории ALT Linux

- **Branch** - cтабильные ветки репозитория пакетов ALT Linux. Создаются на основе нестабильного репозитория **Sisyphus** с целью разделения разработческого и эксплуатационного темпов изменений.
- **Debuginfo** - cодержит отладочную информацию для бинарных исполняемых файлов и библиотек. Обычным пользователям может быть полезен для формирования отчётов о проблемах
- **Autoports** - содержат автоматически пересобираемые под текущую стабильную ветвь свежие пакеты из Sisyphus
- **Autoimports** - содержат пакеты, полученые с помощью систем автоматической конвертации и сборки пакетов и, соответственно, проверенные только автоматическим тестированием. Источником для этих репозиториев являются другие дистрибутивы
- **Карманы** - отдельные мини-репозитории сборочницы ALT Linux, то есть задания, которые собраны, но не были отправлены в основной репозиторий. Имеют ограниченное время жизни. Удаляются сборочницей либо после помещения в репозиторий, либо в случае длительной неактивности
- **Sisyphus** - нестабильный репозиторий, предназначенный для разработчиков решений (приблизительно сравним с Debian testing, Mageia Cauldron, Fedora Rawhide в других проектах), а не для пользователей

### Репозитории RHEL/Centos

- **RHEL (Red Hat Enterprise Linux)** - официальный репозиторий, в нём располагаются только самые стабильные версии программ. Именно их рекомендуется использовать на операционной системе. Зачастую они не самые новые.
- **SСL** - репозиторий от Red Hat, в котором содержатся новые версии Python, PHP, Perl, Ruby, MySQL, MariaDB, PostgreSQL, MongoDB, Maven, Passenger, Apache httpd, Nginx, Node.js, Git, Common Java Packages
- **EPEL** - открытое бесплатное хранилище пакетов от Fedora. Оно содержит пакеты дополнительного программного обеспечения для Linux. Пакеты этого репозитория не конфликтуют с пакетами RHEL
- **REMI** - содержит новейшие сборки PHP и MySQL. Пакеты этого репозитория могут заменять базовые пакеты, поэтому использовать его нужно с осторожностью. Пакеты REMI зависят от репозитория EPEL, поэтому перед установкой установите EPEL
- **ElRepo** - сторонний репозиторий, который подходит для CentOS. В нём хранятся последние версии драйверов для графических, звуковых и сетевых карт, веб-камер и других периферийных инструментов

